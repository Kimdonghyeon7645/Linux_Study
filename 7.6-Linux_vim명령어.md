# 7월 6일 / vim 명령어 정리

리눅스의 에디터(편집기)는 윈도우처럼 메모장, 한글파일, 워드같은 것과 다르게, gedit, vim, emacs, nano 같은 에디터가 있다.

gedit는 x윈도(리눅스 GUI)에서 제공하는 메모장 같은 에디터 이지만, CUI, x윈도가 아닌 서버 리눅스에선 사용하려면 설치해야 된다..

대신 그외에 emacs, nano 같은 다양하고 괜찮은 에디터는 사용할 수 있지만,

오늘 알아볼 것은, 거의 전통적으로 사용된 편집기 vi과 이것이 업그레이드된, vim 에디터에 대해서 알아보도록 하겠다.

vi라는 cui 환경에서 거의 전통적으로 쓰이는 에디터를 호환하는 텍스트 편집기가 바로 vim 에디터이며,  
vi와 호환되면서, 그보다 다양한 기능을 추가해서 편리하게 사용할 수 있다.

---

vim 편집기의 모드는 명령모드, 입력모드, 마지막 행 모드로 총 3가지가 있는데,

명령 모드(command mode)는, vim 명령어로 vmi를 시작하게 되면 들어가게 되는 모드로, 방향키를 이용하여 커서를 이동하며, 다양한 vi의 명령어를 사용할 수 있다.

입력 모드(insert mode)는, 명령모드에서 "i" 나 "a" 명령 등을 통해서 들어갈 수 있으며, 이 모드에선 코드나 글을 맘대로 작성하는 모드다. 명령 모드로 다시 돌아오려면 "ESC"를 누르면 된다.  

마지막 행 모드(Last line mode)는, 명령모드에서 ":" (콜론) 을 입력하면 화면 맨 밑단에 : 가 생기며 입력을 할수 있는 공간이 나온다. 여기서 현재까지 내가 작성한 이 내용을 저장하고 vi를 종료(wq)할지, 그냥 종료(q, q!)할지 등을 입력할 수 있다.


### 명령 모드(command mode)에서의 명령어

i - 현재 커서 위치에 삽입 (입력모드로 넘어감) 
a - 현재 커서 바로 다음위치에 삽입 (입력모드로 넘어감) 
o - 현재 줄 다음 위치에 삽입 (입력모드로 넘어감) 
x - 커서가 위치한 곳의 글자 1개 삭제. (5x : 문자 5개 삭제) 
dw - 커서가 위치한 곳에서 부터 단어 삭제 (커서가 위치한 곳 부터 띄어쓰기 까지)
dd - 커서가 위치한 곳의 한 줄 삭제 (삭제이지만, p로 복구가능)
u - 방금 한 명령 취소 (ctrl + z )
yy - 현재 줄을 버퍼로 복사 (한 줄을 ctrl + c) - 5줄 복사 : 5yy 
p - 현재 커서가 있는 줄 바로 아래에 버퍼 내용 붙여넣기 (이전에 복사한 줄을 현재 커서 아래부터 ctrl + v ) - 5dd를 이용해서 다섯줄을 지운 것도 p 한번으로 붙여넣기 가능. - (잘라내기 dd -> 붙여넣기 p)
(N)dd - N 행 삭제 (삭제가 되는 것 처럼 보이지만 실제로는 버퍼에 들어가 있다. 버퍼에 들어가 있기 때문에 p를 이용해서 붙여넣기 가능) - 잘라내기 (ctrl + x) - vi에서 여러줄을 삭제하고 싶다면 (N)dd 를 사용 (N은 숫자)
k - 위로 (커서가 한 줄 위로 올라감.)
j - 아래로 (커서가 한 줄 아래로 내려감)
l - 오른쪽으로 (커서가 한칸 우측으로감)
h - 왼쪽으로 (커서가 한칸 좌측으로감)
o - 커서가 있는 줄의 맨 앞으로 감 (home 키)
$ - 커서가 있는 줄의 맨 뒤로 감 (end 키)
( - 현재 문장의 처음
) - 현재 문장의 끝
{ - 현재 문단의 처음
} - 현재 문단의 끝
숫자- - 숫자 만큼 윗 줄로 이동
숫자+ - 숫자 만큼 아래 줄로 이동
G - 파일의 끝으로 이동.
r - 한 문자 변경 
cc - 커서가 있는 그 줄의 내용 변경



### 마지막 행 모드(last line mode)에서의 명령어

w - 현재 파일명으로 파일 저장. (저장만 함 꺼지지는 않음)
w [파일명] - 입력한 파일명으로 파일 저장. (저장만 함 꺼지지는 않음)
q - vim 종료 (저장되지 않음)
q! - vim 강제 종료 ( ! 가 붙으면 강제로 수행)
wq - 저장 후 종료 
wq! - 강제 저장 후 종료 ( ! 가 붙으면 강제로 수행) 
f [파일명] - 파일이름을 [파일명]으로 변경

숫자 - 해당 라인으로 커서 이동
$ - 파일의 맨 끝 줄로 이동 
e! - 마지막 저장 이후 모든 편집 취소 
/문자열 - 현재 커서 위치에서 부터파일 앞쪽으로 문자열 탐색
?문자열 - 현재 커서 위치에서 부터 파일 뒤쪽으로 문자열 탐색 
set nu - vi 라인 번호 출력
set nonu - vi 라인 번호 출력 취소 

